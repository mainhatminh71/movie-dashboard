import{M as s,T as l,Y as b,fa as u,ma as i,qb as f}from"./chunk-IC3UCBGN.js";function y(o,e){let r=!e?.manualCleanup;r&&!e?.injector&&b(y);let v=r?e?.injector?.get(u)??l(u):null,c=m(e?.equal),n;e?.requireSync?n=i({kind:0},{equal:c}):n=i({kind:1,value:e?.initialValue},{equal:c});let a,d=o.subscribe({next:t=>n.set({kind:1,value:t}),error:t=>{if(e?.rejectErrors)throw t;n.set({kind:2,error:t})},complete:()=>{a?.()}});if(e?.requireSync&&n().kind===0)throw new s(601,!1);return a=v?.onDestroy(d.unsubscribe.bind(d)),f(()=>{let t=n();switch(t.kind){case 1:return t.value;case 2:throw t.error;case 0:throw new s(601,!1)}},{equal:e?.equal})}function m(o=Object.is){return(e,r)=>e.kind===1&&r.kind===1&&o(e.value,r.value)}export{y as a};
